<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Embrace the trend">
<meta property="og:type" content="website">
<meta property="og:title" content="Shaclow&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Shaclow&#39;s Blog">
<meta property="og:description" content="Embrace the trend">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shaclow&#39;s Blog">
<meta name="twitter:description" content="Embrace the trend">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Shaclow's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Shaclow's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Hello,my world.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/26/Spring基础学习(一)基本介绍/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/26/Spring基础学习(一)基本介绍/" itemprop="url">Spring基础学习(一)基本介绍</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-26T22:30:00+08:00">
                2018-12-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>文件目录 </p>
<p>docs  文档和开发指南等</p>
<p>libs  Jar包 有三类</p>
<ul>
<li>Spring框架得class文件JAR包</li>
<li>Spring框架源文件的压缩包 -sources结尾</li>
<li>Spring框架API文档压缩包 文件名以-javadoc 结尾</li>
</ul>
<p>schemas 该目录下包含了Spring 各种配置文件的XML Schema文档</p>
<p>还有其他说明性文档</p>
<p>如果使用spring就将所需的模块的class文件的JAR包添加到项目的类加载路径中，</p>
<p>Spring作为一个超级工厂管理的对象的是Bean  只要是一个java类就行  </p>
<p>Spring将java类当作Bean管理的 唯一条件就是XML配置文件，也可以用注解，这个XML文件没有命名要求</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="GBK" ?&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"person"</span> <span class="attr">class</span>=<span class="string">"beans.Person"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"axe"</span> <span class="attr">ref</span>=<span class="string">"axe"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"axe"</span> <span class="attr">class</span>=<span class="string">"beans.Axe"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"win"</span> <span class="attr">class</span>=<span class="string">"javax.swing.JFrame"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"date"</span> <span class="attr">class</span>=<span class="string">"java.util.Date"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>从xml表中获得几个点</p>
<ol>
<li>只要是Java类就可以使作为Bean类   不能是接口或抽象类 （除非特殊配置）</li>
<li>其实bean标签的声明就是 构造方式的声明<ol>
<li>bean默认的则为无参构造器</li>
</ol>
</li>
<li>class一定要将包名也写清楚</li>
</ol>
<p>通过xml文件进行构造的本质</p>
<ol>
<li>将bean元素的id属性和class属性都转为字符串</li>
<li>通过classname反射成class然后创建实例</li>
<li>将id名和这个实例放入Spring容器中</li>
</ol>
<p>property作为bean的子元素代表底层的setter方法</p>
<ol>
<li>name代表具体setter方法</li>
<li>value/ref 代表执行setter方法的传入参数<ol>
<li>String 基本类型及包装类 用value指定属性</li>
<li>容器中其他Bean类传入参数，使用ref指定</li>
</ol>
</li>
</ol>
<p>property标签的本质</p>
<ol>
<li>通过ref 即代表id name从spring 容器中获取对应的实例对象</li>
<li>获得methodname 调用setter方法</li>
</ol>
<p>一般来说我们要通过Spring容器去管理和使用Bean 我们要声明Spring容器 有两种</p>
<ol>
<li>ClassPathXmlApplicationContext 从类加载路径搜索配置文件，创建Spring容器</li>
<li>FileSystemXmlApplicationContext 从文件系统相对或绝对路径搜索配置文件 创建Spring容器</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">    ApplicationContext ctx=<span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">    Person p=ctx.getBean(<span class="string">"person"</span>,Person.class);</span><br><span class="line">    p.useAxe();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从上面代码获取几个点</p>
<ol>
<li>两个容器都有统一的接口ApplicationContext掌握</li>
<li>getBean(id,class)  需要id 获取实例  用class转换对应类型  （这个Class一定是具体）</li>
</ol>
<p>最大的改变就是我们不再需要new Java对象，所有对象由Spring容器创建</p>
<p>这种有种升级版，将Axe 和Person抽象为接口</p>
<p>然后让具体子类分别实现他们，这样松耦合，不过配置文件中要<strong>指明白相应的实现子类</strong></p>
<h2 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h2><p>依赖注入还有另一个名字叫控制反转 IoC</p>
<p>依赖  就是 A对象需要调用B对象的方法则，A依赖B</p>
<p>使用Spring后调用者（依赖方）无需主动获取被依赖对象，只要被动接受成员变量赋值即可</p>
<p>依赖方 就无需关心被依赖对象，专心做自己事情即可</p>
<h3 id="注入方式"><a href="#注入方式" class="headerlink" title="注入方式"></a>注入方式</h3><p>注入方式有两种</p>
<ol>
<li>设值注入，通过setter方法  <code>&lt;property&gt;</code>标签</li>
<li>构造注入 使用带参数的构造器 通过<code>&lt;constructor-arg&gt;</code>标签  默认是无参数构造</li>
</ol>
<p>通常不建议使用配置文件Bean基本类型的属性值，通常只用来处理Bean和Bean的依赖关系</p>
<p>构造注入</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 构造注入--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"chinese"</span> <span class="attr">class</span>=<span class="string">"javaspring.demo1.Chinese"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">"steelAxe"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"tt"</span> <span class="attr">class</span>=<span class="string">"ccc.Test01"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">"美滋滋"</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">"233"</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 明确指明类型 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"3"</span> <span class="attr">value</span>=<span class="string">"345"</span> <span class="attr">type</span>=<span class="string">"int"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>代表 调用 <code>new ccc.Test01(&quot;美滋滋&quot;，233);</code> 可以用index属性 如指定index=”0”  代表第一个构造参数值 默认为上到下递增</p>
<p>通常构造注入会让生成代码臃肿而且导致性能下降，且不直观。但它更内聚，且决定依赖顺序</p>
<p>依赖关系无须变化的注入，采用构造注入，其他优先考虑设置构造</p>
<p>Spring容器</p>
<p>BeanFactory 和 ApplicationContext是代表Spring容器的两个核心接口，后者是前者的子接口</p>
<p>虽然可以用，但一般不用前者，直接用后者就好了</p>
<p>J2EE应用可再启动Web应用时自动加载Application实例</p>
<p>ApplicationContext 创建时，会初始所有的singleton bean （就是你在xml中定义的Bean）并且调用setter方法。说明一开始会带来较大性能花销之后就不会了  组织初始化bean，可在相应的bean添加属性 lazy-init=”true”</p>
<p>ApplicationContext支持国家化支持 getMessage()方法</p>
<p>ApplicationContext事件机制</p>
<ul>
<li>ApplicationEvent 容器事件（extends） 必须由ApplicationContext发布</li>
<li>ApplicationListener 监听器（implements） 可以由任何监听器Bean担任</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义监听事件</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmailEvent</span> <span class="keyword">extends</span> <span class="title">ApplicationEvent</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String address;</span><br><span class="line">	<span class="keyword">private</span> String text;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">EmailEvent</span><span class="params">(Object source)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(source);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">EmailEvent</span><span class="params">(Object source,String address,String text)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(source);</span><br><span class="line">		<span class="keyword">this</span>.address=address;</span><br><span class="line">		<span class="keyword">this</span>.text=text;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//set get方法忽略</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义监听器</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmailNotifier</span> <span class="keyword">implements</span> <span class="title">ApplicationListener</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onApplicationEvent</span><span class="params">(ApplicationEvent arg0)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(arg0 <span class="keyword">instanceof</span> EmailEvent) &#123;    <span class="comment">//只监听EmailEvent事件</span></span><br><span class="line">			EmailEvent emailEvent=(EmailEvent)arg0;</span><br><span class="line">			System.out.println(<span class="string">"需要发送的邮件地址： "</span>+emailEvent.getAddress());</span><br><span class="line">			System.out.println(<span class="string">"邮件正文： "</span>+emailEvent.getText());</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"其他事件不处理"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"xxx.ccc.EmailNotifier"</span> /&gt;</span> 直接class定义监听器</span><br></pre></td></tr></table></figure>
<p>自动创建和加载Spring容器的时候会自动触发，也可用pushEvent主动触发</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span></span>&#123;</span><br><span class="line">    ApplicationContext ctx=<span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">    EmailEvent ele=<span class="keyword">new</span> EmailEvent(<span class="string">"test"</span>,<span class="string">"xxx.163@com"</span>,<span class="string">"this is a test"</span>);</span><br><span class="line">    ctx.publishEvent(ele);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Spring有几个内置事件</p>
<ul>
<li>ContextRefreshEvent ContextStartedEvent ContextClosedEvent  ContextStoppedEvent(和Context容器生命周期相关）</li>
<li>RequestHandledEvent 和其他一些新增的WebSocket服务</li>
</ul>
<p>让Bean获取Spring</p>
<p>通常来说Bean是不知道容器的存在的，但有时候为了国际化信息，需要向Spring容器发布事件，所以需要感知</p>
<ul>
<li>实现BeanFactoryAware接口 实现setBeanFactory(BeanFactory)方法</li>
<li>我们不需要在xml或在别的地方调用这个set方法，容器本身就会自动调用</li>
<li>同理还有ApplicationContextAware 和对应的set方法</li>
<li>xml中正常声明bean即可</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationcontextAware</span> <span class="keyword">implements</span> <span class="title">ApplicationContextAware</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> ApplicationContext context;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setApplicationContext</span><span class="params">(ApplicationContext ctx)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.context=ctx;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHi</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		System.out.println(context.getMessage(<span class="string">"hello"</span>, <span class="keyword">new</span> String[] &#123;name&#125;,Locale.getDefault(Locale.Category.FORMAT)));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">xxx</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">        ApplicationContext ctx=<span class="keyword">new</span> ClassPathXmlApplication(<span class="string">"beans.xml"</span>);</span><br><span class="line">        <span class="comment">//下面这个是自己定义的bean实例获取</span></span><br><span class="line">        ApplicationcontextAware aa=ctx.getBean(<span class="string">"idname"</span>,Axxxx.class);</span><br><span class="line">        aa.sayHi(<span class="string">"xx"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其他Spring  XMLSchema的XML配置文件，甚至允许程序员自定义配置文件标签，然后再配置文件中使用这些新标签，</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/Mysql再补习(一)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/Mysql再补习(一)/" itemprop="url">Mysql再补习(一)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T00:52:49+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>模糊匹配 like</p>
<p>我们在用where 然后可以用 等号替换成 like 然后进行模糊匹配</p>
<p>比如select * from test01 where nam like ‘a%’;          找到name是a开头的东东</p>
<p>%代表零到无限多的任意字符 _ (下划线代表一个占位符)</p>
<p>‘_a’ 代表两个字符，第二个字符是a </p>
<p>union 联合操作</p>
<p>这其实就是创建一个视图，将两个select的结果合并成一个表</p>
<p>最低要求，两个select的列数一样。都是2列3列这种。它会将前一个select和后一个select的结果按照列的顺序将两个列的结果合并成一列（即使列的名字和数据属性不一样），列名按照第一个select中的列名。 如果发现有对应行重复的，则进行合并；</p>
<p>但此时如果我们指定的是 union all的话就不会进行合并重复操作，老老实实将其表现</p>
<p>一般搭配where</p>
<p>Order by field asc/desc 默认为asc升序排列</p>
<p>order by 拼音排序 如果是gbk编码则直接order by 即可</p>
<p>如果是utf8 则先转码再排序</p>
<p>order by convert(title using gbk);</p>
<p>分组group by  我个人感觉也是和 union差不多，都是为了合并数据。</p>
<p>不过union是两个表的合并，而group by 是在一个表中对列进行分组合并。</p>
<p>一般来说是用来统计某一个列中各分组的条目数。。比如一个登记每个人在哪里有房产的表</p>
<p>小明可能 北京 有房产          小红可能北京上海广州深圳都有房产。   想要统计个人的房产的数目</p>
<p>select name,count(name) from table group by name; </p>
<p>select name,sum(price) from … group by name;           //统计他们买房的钱</p>
<p>或者统计地区的房产数     select address,count(address) from table group by address;</p>
<p>可以注意到group by一般是搭配 sum count avg这种函数 这样才有使用意义</p>
<p>传说在最后面接一个 <strong>with rollup</strong> 可以实现在分组统计数据基础上再进行相同的统计（SUM,AVG,COUNT…） <del> 但好像不写也能实现啊<del> 错错错</del></del></p>
<p>它的意思是在分组统计计算完成后在最后一行添加一行数据，是计算数据列的和 数数 或者平均值      操作取决于你分组计算的函数。</p>
<p>但是那一行其他列会出现null的情况</p>
<p>这时候采用 coalesce 来设置一个可以取代 NUll 的名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select coalesce(a,b,c);</span><br></pre></td></tr></table></figure>
<p>参数说明：如果a==null,则选择b；如果b==null,则选择c；如果a!=null,则选择a；如果a b c 都为null ，则返回为null（没意义）。</p>
<p>select coalesce(name,”总数”),sum(price) from … group by name with rollup;  </p>
<p>子查询就是在查询中嵌套一个括号表示一个查询</p>
<p><code>select dname from dept where deptno in (select deptno from emp where sal&gt;3000);</code></p>
<p>mysql 连接使用</p>
<p>你可以在 SELECT, UPDATE 和 DELETE 语句中使用 Mysql 的 JOIN 来联合多表查询。</p>
<ul>
<li><strong>INNER JOIN（内连接,或等值连接）</strong>：获取两个表中字段匹配关系的记录。</li>
<li><strong>LEFT JOIN（左连接）：</strong>获取左表所有记录，即使右表没有对应匹配的记录。</li>
<li><strong>RIGHT JOIN（右连接）：</strong> 与 LEFT JOIN 相反，用于获取右表所有记录，即使左表没有对应匹配的记录</li>
</ul>
<p>其实连接其实就是你查询一个表，但是你又想从其他表中找到结果加进来进行奇妙变化，和union有点像，</p>
<p>不过咧它好像更加有那种联系的感觉</p>
<p>Inner join</p>
<p>其实我们可以将inner join 的两个表 分成两个部分</p>
<p> select a.address,a.name,b.id from table1 a inner join table2 b on a.name=b.name;</p>
<p>我们分析一下这个句子。我们可以看到首先我们是正常的用select语句从 table1中获取结果。然后这时候采用inner join引入了另一个表table2 并打算引入table2的列 id        这时候table1的两个列和table2的id列必须形成一定的关系才能将其组合成一行行数据        于是引入条件    on  <strong>虽然比较的是name  其实是为了组装 name 所代表的 table1 的address name 和table2 的id</strong> 只有满足这个条件连个数据库的两行才能成功组装的结果行才能显示出来</p>
<p>其实这个inner join 可以等价于     select ….from table1 table2 where table1.name=table2.name;</p>
<p>left join 这个用法和上边差不多</p>
<p>不过区别在于左边的表 第一个表    不会因为你的 on 条件不符合就 不显示它的值。这好比inner join 是两个表相互协商退让的结果，而left join 是左表按原则办事，而右表从旁协助退让的感觉。</p>
<p>如果左表有右表对应不了的行，则右表的相应数据处就设置为null</p>
<p>right join 用法和上边差不多，就是上边的相反 听右表的</p>
<p>数据库之处理null</p>
<p>null是一个很特殊的值</p>
<p>比如 <code>select * from table1 where name=null</code> 并不能帮你查找到name为null的行 你应该要用 is null 或 &lt;=&gt;</p>
<p><code>select * from table1 where name is null</code>  <code>select *from table1 where name &lt;=&gt; null</code></p>
<p>还有 is not null</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--其实colomnname1+columnname2 其实就是打算将两列每行做加法显式出来而已</span></span><br><span class="line"><span class="keyword">select</span> * , columnName1+<span class="keyword">ifnull</span>(columnName2,<span class="number">0</span>) <span class="keyword">from</span> tableName;</span><br></pre></td></tr></table></figure>
<p>columnName1，columnName2 为 int 型，当 columnName2 中，有值为 null 时，columnName1+columnName2=null， ifnull(columnName2,0) 把 columnName2 中 null 值转为 0。</p>
<p>前面有like做简单的模糊匹配，如今有真正的正则表达式带你装逼带你飞</p>
<p>直接就 where name regexp ‘表达式’</p>
<p><code>select * from test01 where name regexp &#39;ab$&#39;</code></p>
<p>事务就是 </p>
<p>begin;</p>
<p>操作 1 2 3 x</p>
<p>commit /rollback</p>
<p>直接用 SET 来改变 MySQL 的自动提交模式:</p>
<ul>
<li><strong>SET AUTOCOMMIT=0</strong> 禁止自动提交</li>
<li><strong>SET AUTOCOMMIT=1</strong> 开启自动提交</li>
</ul>
<p>修改表</p>
<p>alter table table_name drop columnname   /  add columnname type  [first |  after  columnname2 ]  删除/添加列(可指定列的位置)</p>
<p>修改列的类型</p>
<p>alter table table_name modify column newtype;</p>
<p>alter table table_name change column columnnewname newtype;</p>
<p>添加非空和默认值</p>
<p>alter  table table_name modify column newtype not null default value;</p>
<p>alter table table_name alter column drop default; 删除默认值</p>
<p>添加删除主键</p>
<p>alter table table_name drop primary key;</p>
<p>alter table table_name add primary key(column);</p>
<p>修改表的存储引擎</p>
<p>alter table table_name engine = innodb/myisam;</p>
<p>show table status like ‘table_name’ \G;   可查找表的情况</p>
<p>修改表的名字</p>
<p>alter table table_name rename to  newtable_name;</p>
<p>check约束</p>
<p>CHECK 约束用于限制列中的值的范围。</p>
<p>如果对单个列定义 CHECK 约束，那么该列只允许特定的值。</p>
<p>如果对一个表定义 CHECK 约束，那么此约束会在特定的列中对值进行限制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table xx(</span><br><span class="line">id int not null,</span><br><span class="line">name varchar(233),</span><br><span class="line">check(id&gt;9)</span><br><span class="line">)</span><br><span class="line">#这样就规定id的值一定是大于9</span><br><span class="line"></span><br><span class="line">#额外添加约束  规定多个约束用and连接</span><br><span class="line">alter table xx add constraint xx_con check(id&gt;5 and name =&quot;lunlun&quot;)</span><br><span class="line"></span><br><span class="line">#删除约束</span><br><span class="line">alter table xx drop check xx_con</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/mysql表不能删除修改/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/mysql表不能删除修改/" itemprop="url">mysql表不能删除修改</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T00:52:49+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>MySQL如果频繁的修改一个表的数据，那么这么表会被锁死。造成假死现象。</p>
<p>比如用Navicat等连接工具操作，Navicat会直接未响应，只能强制关闭软件，但是重启后依然无效。</p>
<p>解决办法：</p>
<p>首先执行：</p>
<p>show full processlist;  //列出当前的操作process，一般会看到很多waiting的process，说明已经有卡住的proces了，我们要杀死这些process！！</p>
<p>再执行：</p>
<p>kill processid;  //processid表示process的id，比如kill 3301，就会将id为3301的process杀死。</p>
<p>使用 kill 将所有的 id 杀死。然后重启MySQL，一般就会解决了。如果还不行，那应该是不可能的吧。。。</p>
<p>重启MySQL：</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/mysql临时表复制表/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/mysql临时表复制表/" itemprop="url">mysql临时表复制表</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T00:52:49+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>临时表 </p>
<p>就是临时保存的表，关闭客户端后将其删除，你用show tables 并不能看到他， 你也可以在使用完后主动drop 他</p>
<p><code>create temporary table xxx(xxx xxx,xxx,xxx);</code></p>
<p>mysql的表复制</p>
<p><code>show create table tablename \G</code> 这样就会出现你想要的表的创建信息，你复制就行，不过你第一行要改一下表名字</p>
<p>然后insert into clonetable (col1,col2,col3…) select col1,col2,col3,…. from tablename;进行数据的复制</p>
<p>完整复制表的其他方法，感觉这个完爆好吧</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE targetTable LIKE sourceTable;</span><br><span class="line">INSERT INTO targetTable SELECT * FROM sourceTable;</span><br></pre></td></tr></table></figure>
<p>这种好像无法模仿索引神魔的 默认值？</p>
<p>可以拷贝一个表中其中的一些字段:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE newadmin AS</span><br><span class="line">(</span><br><span class="line">    SELECT username, password FROM admin</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>可以将新建的表的字段改名:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE newadmin AS</span><br><span class="line">(  </span><br><span class="line">    SELECT id, username AS uname, password AS pass FROM admin</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>可以拷贝一部分数据:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE newadmin AS</span><br><span class="line">(</span><br><span class="line">    SELECT * FROM admin WHERE LEFT(username,1) = &apos;s&apos;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>可以在创建表的同时定义表中的字段信息:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE newadmin</span><br><span class="line">(</span><br><span class="line">    id INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY</span><br><span class="line">)</span><br><span class="line">AS</span><br><span class="line">(</span><br><span class="line">    SELECT * FROM admin</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><strong>第一、只复制表结构到新表</strong></p>
<p>create table 新表 select * from 旧表 where 1=2</p>
<p>或者</p>
<p>create table 新表 like 旧表 </p>
<p><strong>第二、复制表结构及数据到新表</strong></p>
<p>create table新表 select * from 旧表 </p>
<p>服务器元数据</p>
<table>
<thead>
<tr>
<th>SELECT VERSION( )</th>
<th>服务器版本信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>SELECT DATABASE( )</td>
<td>当前数据库名 (或者返回空)</td>
</tr>
<tr>
<td>SELECT USER( )</td>
<td>当前用户名</td>
</tr>
<tr>
<td>SHOW STATUS</td>
<td>服务器状态</td>
</tr>
<tr>
<td>SHOW VARIABLES</td>
<td>服务器配置变量</td>
</tr>
</tbody>
</table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/mysql索引/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/mysql索引/" itemprop="url">mysql索引</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T00:52:49+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>创建索引</p>
<p>创建索引其实就是 给你一个表中一个特殊的列进行索引绑定  这样你就会在查找这个列的时候 （where）更加快</p>
<p>但是会降低更新表的速度 比如 insert update delete这种，索引其实就是做了一个表 保存主键和索引字段</p>
<p>索引有很多</p>
<p>主键索引  就是primary key  索引唯一不可为null </p>
<p>唯一索引  要求索引列对应的值必须唯一，但允许空值  如果是组合索引，则他们的组合不能重复</p>
<p>普通索引</p>
<p>全文索引  也是一种索引方式      　建立全文检索的字段类型必须是char,varchar,text</p>
<p>删除索引</p>
<p><code>drop index indexname on tablename</code></p>
<p>添加索引</p>
<p><code>alter table tablename add unique indexname/primary key/index indexname/fulltext indexname (columnname(length))</code></p>
<p><code>create unique index indexname on tablename(columnname(length))</code>  length应该是索引的长度把如果是CHAR，VARCHAR类型，length可以小于字段实际长度；如果是BLOB和TEXT类型，必须指定 length。</p>
<p>创建表时指定</p>
<p><code>create table tablename(id int not null,username varchar(255) not null,unique [indexname] (username(length)))</code></p>
<p>查看表的索引 <code>show index from tablename\G;</code></p>
<p>全文搜索  innodb也支持</p>
<p><code>select * from tablename where match(columnname) against (&#39;value&#39;)</code>  用来全文检索的方式查找值为value的行</p>
<p>注意全文检索中，如果这个被检索的值小于4个，mysql不会将其创建全文索引 你用上文方法将无法查询到</p>
<p>这个设置在 <code>show variables like &#39;ft%&#39;</code> 可以看到</p>
<p>​             ft_boolean_syntax    <strong>+ -&gt;&lt;()~*:””&amp;|</strong>         #改变IN BOOLEAN MODE的查询字符，不用重新启动MySQL也不用重建索引<br>​             ft_min_word_len    4                                   #最短的索引字符串，默认值为4，(通常改为1)修改后必须重建索引文件</p>
<p>​                                                                               重新建立索引命令：<strong>repair table tablename quick</strong> </p>
<p>​             ft_max_word_len    84                                #最长的索引字符串，默认值为84，修改后必须重建索引文件</p>
<p>​             ft_query_expansion_limit   20                      #查询括展时取最相关的几个值用作二次查询</p>
<p>​             ft_stopword_file    <strong>(built-in)</strong>                      #全文索引的过滤词文件      </p>
<p>in boolean mode </p>
<p>l  即使找到的单词会出现在一半以上的行里，仍然会把它们搜搜出来</p>
<p>l  查询结果不再按相关程序排序</p>
<p>l  搜索可以要求短语里的所有单词都必须是按某种特定的顺序出现</p>
<p>l  可以对未包括在FULLTEX索引里的那些列，进行布尔模式全文搜索</p>
<h2 id=""><a href="#" class="headerlink" title=" "></a> </h2><h2 id="4-4-gt-提高该字的相关性，查询的结果会排在比较靠前的位置。"><a href="#4-4-gt-提高该字的相关性，查询的结果会排在比较靠前的位置。" class="headerlink" title="4.4. &gt; :提高该字的相关性，查询的结果会排在比较靠前的位置。"></a>4.4. &gt; :提高该字的相关性，查询的结果会排在比较靠前的位置。</h2><h2 id="4-5-lt-降低相关性，查询的结果会排在比较靠后的位置"><a href="#4-5-lt-降低相关性，查询的结果会排在比较靠后的位置" class="headerlink" title="4.5.&lt; :降低相关性，查询的结果会排在比较靠后的位置"></a>4.5.&lt; :降低相关性，查询的结果会排在比较靠后的位置</h2><p><code>+name</code> 代表一定要有这个匹配 并且出现在<strong>词语</strong>开始位置 </p>
<p><code>-name</code> 代表不要有这个词语，但不要只用这个词，因为你会查不到东西，要配合其他语法                            </p>
<p> eg: MATCH (girl_name) AGAINST (‘-林志玲 +张筱雨’)</p>
<p><code>空格 name</code>表示选择，出现这个词语的行优先级较高</p>
<p><code>apple banana</code>找至少包含上面词中的一个的记录行</p>
<p><code>+apple +juice</code>               两个词均在被包含</p>
<p><code>+apple macintosh</code> 包含词 “apple”，但是如果同时包含 “macintosh”，它的排列将更高一些</p>
<p><code>+apple -macintosh</code> 包含 “apple” 但不包含 “macintosh”</p>
<p><code>&lt;  &gt;</code> 这个两个都是提高字的相关性 影响查询结果的排序</p>
<p>​                        <strong>1. 只要使用 &gt;&lt;的总比没用的 靠前；</strong></p>
<p>​                                  <strong>2. 使用  &gt;的一定比 &lt;的排的靠前 (这就符合相关性提高和降低)；</strong></p>
<p>​                                       <strong>3. 使用同一类的，使用的越早，排的越前。</strong></p>
<p>括号代表选择把  </p>
<p>​                       eg: +aaa +(&gt;bbb &lt;ccc) // 找到有aaa和bbb和ccc，aaa和bbb，或者aaa和ccc(因为bbb，ccc前面没有+，所以表示可有可无)，</p>
<p>​                                         然后 aaa&amp;bbb <strong>&gt;</strong> aaa&amp;bbb&amp;ccc <strong>&gt;</strong> aaa&amp;ccc</p>
<p>~ 代表拥有该词会降低相关性</p>
<p><code>*</code> 通配符只能接在字符串后面</p>
<p><code>&quot;&quot;</code> 双引号    代表完全匹配，一定准确无误   平时都是用单引号的</p>
<p>自增长值</p>
<p>auto_increment </p>
<p><code>create table test04 (id int  not null auto_increment,name varchar(20) not null );</code></p>
<p>可以</p>
<p><code>create table test04(id int not null auto_increment,name varchar(20) not null)auto_increment=200</code></p>
<p><code>alter table t auto_increment =100</code>  设定auto_increment的初始值</p>
<p>重置增长序列值，由于你删除很多列，然后增长序列列就会千疮百孔这时候  (但是如果有外键就无法这么操作哭唧唧)</p>
<p><code>alter table xx drop column</code>   删除序号列</p>
<p><code>alter table xx add column int unsigned not null auto_increment first</code>   重新组件序号列</p>
<p>防止出现重复数据</p>
<p>设置主键或唯一索引 主键是不能null的  可以 <code>primary key(lastname,firstname)</code></p>
<p>INSERT IGNORE INTO与INSERT INTO的区别就是INSERT IGNORE会忽略数据库中已经存在的数据，如果数据库没有数据，就插入新的数据，如果有数据的话就跳过这条数据。 不会向数据表中插入重复数据</p>
<p>如果你需要读取不重复的数据可以在 SELECT 语句中使用 DISTINCT 关键字来过滤重复数据。</p>
<p><code>select distinct last_name ,first_name from table1;</code></p>
<p>你也可以使用 GROUP BY 来读取数据表中不重复的数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT last_name, first_name</span><br><span class="line">    -&gt; FROM person_tbl</span><br><span class="line">    -&gt; GROUP BY (last_name, first_name);</span><br></pre></td></tr></table></figure>
<p>删除重复数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; CREATE TABLE tmp SELECT last_name, first_name, sex FROM person_tbl  GROUP BY (last_name, first_name, sex);</span><br></pre></td></tr></table></figure>
<p>当然你也可以在数据表中添加 INDEX（索引） 和 PRIMAY KEY（主键）这种简单的方法来删除表中的重复记录。方法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; ALTER IGNORE TABLE person_tbl</span><br><span class="line">    -&gt; ADD PRIMARY KEY (last_name, first_name);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/Mysql 的外键/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/Mysql 的外键/" itemprop="url">Mysql 的外键</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T00:52:49+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Mysql 的外键</p>
<p>感觉实际上外键对查询没有任何帮助，还是得乖乖用联合查询，左右连接什么的</p>
<p>数据库中其实外键有两种说法啦，</p>
<p>一个是逻辑外键，就是你把他当作外键，然后操作中也把他看作外键（什么查询啊，什么修改顺便改另一个表啊那种来假装级联）</p>
<p>真正的外键写在数据库当中，这时候就很牛啤酒了。今天我就来解决这个问题。</p>
<p>首先咧，外键是描述两个表的联系关系。所以首先要有两个表，然后两个表都各自有一个属性相同的列（可以名字不同，但一般名字相同方便思考）这时候，一个表A把这个列定义为唯一索引（可以为unique也可以primary key），一定要（这个表就是主表）。</p>
<p>另一个表B则要将这个键定义成外键 连接到上一个表的的唯一索引（称为从表）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">create table orders(</span><br><span class="line">O_id int not null,</span><br><span class="line">P_id int ,PRIMARY KEY (O_id),FOREIGN KEY (P_id) references Person(P_id)</span><br><span class="line">)</span><br><span class="line">-- 在Person中P_id是主键   foreign key 等的括号不能省略</span><br><span class="line"></span><br><span class="line">-- alter修改</span><br><span class="line">alter table orders add constraint fk_foreignkey foreign key (P_id) references Person(P_id);</span><br><span class="line"></span><br><span class="line">-- 撤销外键</span><br><span class="line">alter table orders drop foreign key fk_foreignkey  (外键名字)</span><br><span class="line"></span><br><span class="line">-- 删除外键关系时会有点小尴尬，因为一定要外键名字，而你大概率是没有设置或者不记得的，你可以用show create table xxx查看</span><br><span class="line"></span><br><span class="line">-- 禁用约束（子表的外键约束）  好像是用在 oracle的 mysql好像不行  启用是enable</span><br><span class="line">ALTER TABLE 表名 disable constraint 约束名;</span><br></pre></td></tr></table></figure>
<p><strong>谁是谁的外键？</strong></p>
<p>说了这么多到底谁是外键呢？你以为是B的那个索引是外键？太天真了 naive 是A的那个主键是B的外键。竟然是主表的键是从表的外键太奇怪了。。</p>
<p>外键约束</p>
<p>外键约束咧应该是本来是不能违反的 但是你可以设置违反响应事件？</p>
<p>   <strong>外键约束事件触发</strong>。既然有外键约束，当违反约束时会发生什么？我们把它的反应看作事件，一共有四种： </p>
<p>定义方式在最后面加  比如  <code>FOREIGN KEY (main_id) REFERENCES test_main ON DELETE SET NULL;</code></p>
<p>​        1、级联：当主表更改时，从表跟从更改。  on delete/update cascade</p>
<p>​        2、不执行任何操作。           默认的外键触发</p>
<p>​        3、设置null。                        // on delete set null </p>
<p>​        4、设置默认值。    难道是set 加参数值？   </p>
<p>   <code>alter table 表名 add constraint DF_字段名 default &#39;默认值&#39; for 字段名--其中的&#39;默认值&#39;为你想要默认的值，注意&#39;for&#39;</code></p>
<p>外键作用可以说是：保持数据一致性，完整性，关联性，主要目的是控制存储在外键表中的数据。就是当你对一个表的数据进行操作，和他有关联的一个或更多表的数据能够同时发生改变，<strong>避免无效或是无用的改变和孤立的数据</strong>。</p>
<p>​        <strong>建键原则</strong>：</p>
<p>​       1、 外键字段为主键<br>　　2、 所有的键都必须唯一<br>　　3、避免使用复合键<br>　　4、外键总是关联唯一的键字段</p>
<p>总之</p>
<ul>
<li><p>删除  要先删除子表所关联的数据再删除父表数据   级联删除 可以删父表的同时删除子表数据</p>
</li>
<li><p>更新 更新父表（应该是主键值）会违反约束 但可以修改子表（外键列）（不过该外键不能改成父表没有的 ）  和父表的非主键值   级联更新  可以修改父表的同时修改子表</p>
<p>其实是可以修改主键的，但是呢和删除数据一样   前提是从表没有连接到它的行</p>
</li>
<li><p>插入时 父表可以插入 子表插入如果插入的外键列是父表没有的值的时候会违反约束，子表的数据一定要有父表做依据  </p>
<p>给出的错误提示<code>Cannot add or update a child row: a foreign key constraint fails</code>  </p>
</li>
</ul>
<p>总的来说 先有父表再有子表    父表数据先看子表，甚至不能改</p>
<p>级联都是针对改变主表主键/删除主表数据   从表的外键也修改/从表数据删除 的情况 </p>
<p>已经经过实操过所有例子大概率没有任何问题</p>
<p>然而并没有级联插入</p>
<p>或者我们可以用触发器实现级联删除</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ALTER TRIGGER [dbo].[trigCascadeDelete]    --触发器名</span><br><span class="line">   ON  [dbo].[main]      ---作用于哪张表</span><br><span class="line">   instead of  delete    ---什么动作触发</span><br><span class="line">AS </span><br><span class="line">BEGIN</span><br><span class="line">	declare @id int   --声明@id变量</span><br><span class="line">	select @id=id from deleted --取出要删除的id</span><br><span class="line">	delete from branch where mainId =@id  --先删除从表中的数据行</span><br><span class="line">	delete from main where id =@id   ---再删除主表中的数据行</span><br><span class="line">END</span><br></pre></td></tr></table></figure>
<p>外键并不能帮助我们对查询有什么帮助，我们只能老老实实用联合查询 什么子查询那种东西去做多表查询</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/JDBC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/JDBC/" itemprop="url">JDBC</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T00:52:49+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>JDBC代表Java数据库连接(<strong>J</strong>ava <strong>D</strong>ata<strong>b</strong>ase <strong>C</strong>onnectivity)，它是用于Java编程语言和数据库之间的数据库无关连接的标准Java API，换句话说：JDBC是用于在Java语言编程中与数据库连接的API。</p>
<p>JDBC库包括通常与数据库使用相关，如下面提到的每个任务的API -</p>
<p>从根本上说，JDBC是一个规范，它提供了一整套接口，允许以一种可移植的访问底层数据库API。 Java可以用它来编写不同类型的可执行文件，如 -</p>
<ul>
<li>Java应用程序</li>
<li>Java Applet</li>
<li>Java Servlets</li>
<li>Java ServerPages(<a href="http://www.yiibai.com/jsp/" target="_blank" rel="noopener">JSP</a>)</li>
<li>企业级JavaBeans(EJB)</li>
</ul>
<p>所有这些不同的可执行文件都能够使用JDBC驱动程序来访问数据库，并用于存储数据到数据库中。</p>
<p>JDBC提供与ODBC相同的功能，允许Java程序包含与数据库无关的代码(同样的代码，只需要指定使用的数据库类型，不需要重修改数据库查询或操作代码)。</p>
<h2 id="JDBC架构"><a href="#JDBC架构" class="headerlink" title="JDBC架构"></a>JDBC架构</h2><p>JDBC API支持用于数据库访问的两层和三层处理模型，但通常，JDBC体系结构由两层组成：</p>
<ul>
<li>JDBC API：提供应用程序到JDBC管理器连接。</li>
<li>JDBC驱动程序API：支持JDBC管理器到驱动程序连接。</li>
</ul>
<p>JDBC API使用驱动程序管理器并指定数据库的驱动程序来提供与异构数据库的透明连接。</p>
<p>JDBC驱动程序管理器确保使用正确的驱动程序来访问每个数据源。 驱动程序管理器能够支持连接到多个异构数据库的多个并发驱动程序。</p>
<p><img src="http://www.yiibai.com/uploads/images/201705/3005/659080547_64242.jpg" alt="img"></p>
<h2 id="常见的JDBC组件"><a href="#常见的JDBC组件" class="headerlink" title="常见的JDBC组件"></a>常见的JDBC组件</h2><p>JDBC API提供以下接口和类 </p>
<ul>
<li><code>DriverManager</code>：此类管理数据库驱动程序列表。 使用通信子协议将来自java应用程序的连接请求与适当的数据库驱动程序进行匹配。在JDBC下识别某个子协议的第一个驱动程序将用于建立数据库连接。</li>
<li><code>Driver</code>：此接口处理与数据库服务器的通信。我们很少会直接与<code>Driver</code>对象进行交互。 但会使用<code>DriverManager</code>对象来管理这种类型的对象。 它还提取与使用<code>Driver</code>对象相关的信息。</li>
<li><code>Connection</code>：此接口具有用于联系数据库的所有方法。 连接(<code>Connection</code>)对象表示通信上下文，即，与数据库的所有通信仅通过连接对象。</li>
<li><code>Statement</code>：使用从此接口创建的对象将SQL语句提交到数据库。 除了执行存储过程之外，一些派生接口还接受参数。</li>
<li><code>ResultSet</code>：在使用<code>Statement</code>对象执行SQL查询后，这些对象保存从数据库检索的数据。 它作为一个迭代器并可移动<code>ResultSet</code>对象查询的数据。</li>
<li><code>SQLException</code>：此类处理数据库应用程序中发生的任何错误。</li>
</ul>
<h2 id="JDBC-4-0包"><a href="#JDBC-4-0包" class="headerlink" title="JDBC 4.0包"></a>JDBC 4.0包</h2><p><code>java.sql</code>和<code>javax.sql</code>是JDBC 4.0的主要包。这是编写本教程时最新的JDBC版本。 它提供了与数据源进行交互的主要类。</p>
<h2 id="DBC驱动程序是什么？"><a href="#DBC驱动程序是什么？" class="headerlink" title="DBC驱动程序是什么？"></a><strong>DBC驱动程序是什么？</strong></h2><p>JDBC驱动程序在JDBC API中实现定义的接口，用于与数据库服务器进行交互。</p>
<p>例如，使用JDBC驱动程序，可以通过发送SQL或数据库命令，然后使用Java接收结果来打开数据库连接并与数据库进行交互。</p>
<p>JDK附带的<code>Java.sql</code>包包含各种类，其类的行为被定义，实现在第三方驱动程序中完成。 第三方供应商在其数据库驱动程序中实现<code>java.sql.Driver</code>接口。</p>
<h2 id="JDBC驱动程序类型"><a href="#JDBC驱动程序类型" class="headerlink" title="JDBC驱动程序类型"></a>JDBC驱动程序类型</h2><p>JDBC驱动程序实现因Java运行的各种操作系统和硬件平台而异。 Sun将实现类型分为四种类型，分别为<code>1</code>,<code>2</code>,<code>3`</code>4`类型，如下所述：</p>
<h3 id="类型1：JDBC-ODBC桥驱动程序"><a href="#类型1：JDBC-ODBC桥驱动程序" class="headerlink" title="类型1：JDBC-ODBC桥驱动程序"></a>类型1：JDBC-ODBC桥驱动程序</h3><p>在<strong>类型1</strong>驱动程序中，JDBC桥接器用于访问安装在每台客户机上的ODBC驱动程序。 使用ODBC需要在系统上配置表示目标数据库的数据源名称(DSN)。</p>
<p>当Java第一次出现时，这是一个驱动程序，因为大多数数据库仅支持ODBC访问，但现在这种类型的驱动程序仅推荐用于实验性使用或没有其他替代方案时使用。</p>
<p><img src="http://www.yiibai.com/uploads/images/201705/3005/696110505_18575.jpg" alt="img"></p>
<p><strong>JDK 1.2</strong>附带的JDBC-ODBC桥接是这种驱动程序的一个很好的例子。</p>
<h3 id="类型2：JDBC本地API"><a href="#类型2：JDBC本地API" class="headerlink" title="类型2：JDBC本地API"></a>类型2：JDBC本地API</h3><p>在<strong>类型2</strong>驱动程序中，JDBC API调用将转换为本地C/C++ API调用，这是数据库唯一的。 这些驱动程序通常由数据库供应商提供，并以与JDBC-ODBC桥接相同的方式使用。 必须在每个客户机上安装供应商特定的驱动程序。</p>
<p>如果要更改数据库，则必须更改原生API，因为它特定于数据库，并且现在大部分已经过时，但是使用<strong>类型2</strong>驱动程序实现了一些扩展功能的开发，它消除了ODBC的开销。</p>
<p><img src="http://www.yiibai.com/uploads/images/201705/3005/881110514_49239.jpg" alt="img"></p>
<p>Oracle调用接口(OCI)驱动程序是<strong>类型2</strong>驱动程序的示例。</p>
<h3 id="类型3：JDBC-Net纯Java"><a href="#类型3：JDBC-Net纯Java" class="headerlink" title="类型3：JDBC-Net纯Java"></a>类型3：JDBC-Net纯Java</h3><p>在<strong>类型3</strong>驱动程序中，使用三层方法访问数据库。 JDBC客户端使用标准网络套接字与中间件应用程序服务器进行通信。 套接字信息随后由中间件应用服务器转换成DBMS所需的调用格式，并转发到数据库服务器。</p>
<p>这种驱动程序是非常灵活的，因为它不需要在客户端上安装代码，<strong>一个驱动程序实际上可以提供多个数据库的访问。</strong></p>
<p><img src="http://www.yiibai.com/uploads/images/201705/3005/700110516_88885.jpg" alt="img"></p>
<p>可以将应用程序服务器视为JDBC“代理”，它会调用客户端应用程序。 因此，我们需要了解应用程序服务器的配置，才能有效地使用此驱动程序类型。</p>
<p>应用程序服务器可能会使用类型1,2或4驱动程序与数据库通信，了解细微差别对理解JDBC是有帮助的。</p>
<h3 id="类型4：100％纯Java"><a href="#类型4：100％纯Java" class="headerlink" title="类型4：100％纯Java"></a>类型4：100％纯Java</h3><p>在<strong>类型4</strong>驱动程序中，基于纯Java的驱动程序通过套接字连接与供应商的数据库直接通信。 这是数据库可用的最高性能驱动程序，通常由供应商自己提供。</p>
<p>这种驱动是非常灵活的，不需要在客户端或服务器上安装特殊的软件。 此外，这些驱动程序可以动态下载。</p>
<p><img src="http://www.yiibai.com/uploads/images/201705/3005/770110529_65984.jpg" alt="img"></p>
<p>MySQL <code>Connector/J</code>驱动程序是<strong>类型4</strong>驱动程序。 由于其网络协议的专有性质，数据库供应商通常提供<strong>类型4</strong>驱动程序。</p>
<h2 id="应该使用哪个驱动程序？"><a href="#应该使用哪个驱动程序？" class="headerlink" title="应该使用哪个驱动程序？"></a>应该使用哪个驱动程序？</h2><p>如果您正在访问一种类型的数据库，例如Oracle，Sybase或IBM DB2，则首选驱动程序类型为<strong>类型4</strong>。</p>
<p>如果Java应用程序同时访问多种类型的数据库，则<strong>类型3</strong>是首选驱动程序。</p>
<p><strong>类型2</strong>驱动程序在数据库不可用的<strong>类型3</strong>或<strong>类型4</strong>驱动程序的情况下使用。</p>
<p><strong>类型1</strong>驱动程序不被视为部署级驱动程序，通常仅用于开发和测试目的。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/JSP杂谈/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/JSP杂谈/" itemprop="url">JSP杂谈</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T00:52:49+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>针对JSP 这种 自动解释html标签的情况 我们可以使用 转移字符 &lt; 来表示相应的尖括号</p>
<p>EL中隐式参数的使用 </p>
<p>param 和 paramValues </p>
<p>比如${param.name}  name对应表单中input的 name属性 </p>
<p>当一个表单中有多个input对应同一个name这时候通过param来识别是远远不够的</p>
<p>这时候 采用 ${paramValues.name[]} paramValues 返回一个name数组你就根据顺序找到 对应的数组元素</p>
<p>这个 可建立一个jsp进行实验</p>
<p>我们需要从头部获取信息 这儿时候采用隐式对象header可以实现  比如 ${header.host}  或者 ${header[“host”]}  倘若有多个值对应的首部 可以采用 headerValues 工作原理和paramValues相同</p>
<p>得到request的性质 比如他的请求返回方法  比如 post get这种 </p>
<p>我们可以用 scriptlet 这种 实现 &lt;%=request.getMethod()%&gt;     但是对于EL他没有request对象 requestscope也不是得到request对象本身的信息 他只是会得到请求的属性</p>
<p>无法处理的事情交给pageContext 去得到剩下的一切</p>
<p>${pageContext.request.method}   通过pageContext 就可以得到request对象了？</p>
<p>如果你是想获得特定作用域的属性  请在属性名前 加上所属的作用于 比如 ${requestScope.person.name}  倘若你不是加作用域 他就按之前所讲的顺序遍历作用域 直到找到所要的属性</p>
<p>但倘若属性名写得不规范  比如 setAttribute(“foo.person”,p);   ${foo.person.name} 这种是错误的   因为程序会寻找一个叫foo的作用域    所以要采用 ${requestScope[“foo.person”].name}</p>
<p>通过EL得到cookie和初始化参数</p>
<p>我们可以采用脚本 request.getCookies();  然后遍历cookies数组 找到对应的cookie</p>
<p>但EL 可以采用  ${cookie.userName.value}  只需要提供名字就可以找到相应的值</p>
<p>上下文初始化 </p>
<p>可以通过 &lt;%=application.getInitParameter(“xxx”)%&gt;     ${initParam.xxx}   注意initParam 对应是 application的参数 不是某个 config的</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/js 和 jsp变量的传递/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/js 和 jsp变量的传递/" itemprop="url">js 和 jsp变量的传递</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T00:52:49+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>js 和 jsp变量的传递</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="string">"&lt;%= xxxList%&gt;"</span>;         </span><br><span class="line"><span class="comment">//传递list值直接传递 不过一定要加双引号，这能避免很多莫名其妙的麻烦</span></span><br><span class="line"><span class="comment">//比如你如果是纯数字可以不加，但其他比如字符串什么的一定要加</span></span><br><span class="line"><span class="keyword">var</span> id=<span class="string">"&lt;%= request.getAttribute("</span>xxxParam<span class="string">")%&gt;"</span>;</span><br><span class="line">&lt;% <span class="built_in">String</span> s=<span class="string">"abc"</span>;%&gt;</span><br><span class="line"><span class="keyword">var</span> s=<span class="string">"&lt;%= s%&gt;"</span>;</span><br></pre></td></tr></table></figure>
<p>注意传递数组的时候  不能像list那样直接传递给js变量 这样得到的值是java.lang.String</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在js和jsp页面中巧妙交换实现数组传递</span></span><br><span class="line"><span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">&lt;% <span class="keyword">for</span> (int i=<span class="number">0</span>;i&lt;archiveArr.length;i++)&#123;%&gt;</span><br><span class="line">    arr[<span class="xml"><span class="tag">&lt;<span class="name">%=i%</span>&gt;</span>]="<span class="tag">&lt;<span class="name">%=archiveArr[i]%</span>&gt;</span>";   //<span class="tag">&lt;<span class="name">%=</span> <span class="attr">i</span>%&gt;</span>中i是纯数字所以加不加双引号没所谓</span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">%&#125;%</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>jsp使用js定义的变量，只能使用js代码，将对应的变量放到表单里面或通过url（window.open拼接上变量）的方式。传递给jsp.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/JDBC(四)ResultSet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen JianLun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaclow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/JDBC(四)ResultSet/" itemprop="url">JDBC(四)ResultSet</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T00:52:49+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ResultSet 就是个结果集，但其实他是有很多性质可以订制的。</p>
<p>ResultSet的方法有三类</p>
<ul>
<li>浏览方法  就是移动结果集的光标</li>
<li>获取方法 查看光标指向的数据</li>
<li>更新方法 更新行的数据，然后在数据库中更新</li>
</ul>
<p>ResultSet定制是从创建它的Statement中就要进行设置了，我们知道Statement有三种类型</p>
<p>对应三种创建的Statement构造函数</p>
<ul>
<li>createStatement(int RSType,int RSConcurrency)</li>
<li>prepareStatement(String sql,int RSType,int RSConcurrency)</li>
<li>prepareCall(String sql,int RSType,int RSConcurrency)</li>
</ul>
<p>发现我们好像有没有使用的参数 RSType 和 RSConcurrency 这就是用来定制ResultSet的性质的两个参数</p>
<p>RSType 定制光标的移动</p>
<ul>
<li>ResultSet.TYPE_FORWARD_ONLY 光标只能在结果集中往前移动</li>
<li>ResultSet.TYPE_SCROLL_INSENSITIVE 光标可前后移动 但对创建结果集后数据库的变化不敏感</li>
<li>ResultSet.TYPE_SCROLL_SENSITIVE 光标可前后移动，结果集对数据库之后的变化敏感</li>
</ul>
<p>RSConcurrency 定制并发性</p>
<ul>
<li>ResultSet.CONCUR_READ_ONLY 只读结果集 默认</li>
<li>ResultSet.CONCUR_UPDATABLE 可更新结果集</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Statement stmt=con.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE,ResultSet.CONCUR_UPDATABLE)</span><br></pre></td></tr></table></figure>
<p>ResultSet相关方法</p>
<ul>
<li>beforeFirst()     </li>
<li>afterLast()</li>
</ul>
<p>移到第一行之前或之后 感觉不是用来插入数据的，应该是搭配next previous 做遍历的</p>
<ul>
<li>first() 第一行</li>
<li>last() </li>
</ul>
<ul>
<li>absolute(int row) boolean</li>
<li>boolean relative(int row)</li>
</ul>
<p>将光标移动到指定行，分为绝对位移和相对位移</p>
<ul>
<li>boolean previous()</li>
<li>boolean next()</li>
</ul>
<ul>
<li>int getRow() 返回当前行序号</li>
</ul>
<ul>
<li>moveToInsertRow()</li>
<li>moveToCurrentRow()</li>
</ul>
<p>插入行和当前行切换，随时随地插入还能回来，如果已经是插入行或当前行还不报错，美滋滋</p>
<p>获取数据方法 getXXX</p>
<p>XXX 可以很多 比如Int String URL Object Date 等等</p>
<p>获取方法有两种，重载了</p>
<p>int getInt(String colname) 根据列名获取数据</p>
<p>int getInt(int colindex) 根据列序号获取数据</p>
<p>我们获得数据集后还是能进行更新的</p>
<p>updateXXX(int colinext,String s)  根据序号进行更新</p>
<p>updateXXX(String colname,String s) 根据索引更新</p>
<p>如果要将数据集的更改同步的数据库中，要继续调用以下方法</p>
<ul>
<li>updateRow() 更新</li>
<li>deleteRow() 删除该行</li>
</ul>
<ul>
<li>refreshRow() 刷新结果集中的数据以反映数据库中最近的任何更改   (ROW??)</li>
<li>cancelRowUpdates() 取消对该行更新</li>
<li>insertRow() 在数据库中插入一行。 只有当光标指向插入行时，才能调用此方法。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Chen JianLun</p>
              <p class="site-description motion-element" itemprop="description">Embrace the trend</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">59</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chen JianLun</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
